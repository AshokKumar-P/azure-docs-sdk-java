### YamlMime:ManagedReference
items:
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef
  id: _definition_s6a28880883457a93afa88893abf976ef
  parent: com.microsoft.azure.management.compute
  children:
  - com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity()
  - com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity(BuiltInRole)
  - com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity(BuiltInRole,String)
  - com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity(BuiltInRole,String,int)
  href: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.yml
  langs:
  - java
  name: VirtualMachine.DefinitionStages.WithManagedServiceIdentity
  nameWithType: VirtualMachine.DefinitionStages.WithManagedServiceIdentity
  fullName: com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithManagedServiceIdentity
  type: Interface
  source:
    remote: &o0
      path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
      branch: master
      repo: https://github.com/Azure/azure-sdk-for-java
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1500
  package: com.microsoft.azure.management.compute
  summary: <p>The stage of the virtual machine definition allowing to enable Managed Service Identity. </p>
  syntax:
    content: public interface WithManagedServiceIdentity
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity()
  id: withManagedServiceIdentity()
  parent: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef
  href: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.yml
  langs:
  - java
  name: withManagedServiceIdentity()
  nameWithType: VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity()
  fullName: WithCreate com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity()
  overload: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1509
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine. The MSI will have "Contributor" access role with scope of access limited to the resource group that this virtual machine belongs to.</p>

    <p></p>
  syntax:
    content: public WithCreate withManagedServiceIdentity()
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._definition_stages._with_create
      description: <p>the next stage of the definition </p>
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity(BuiltInRole)
  id: withManagedServiceIdentity(BuiltInRole)
  parent: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef
  href: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.yml
  langs:
  - java
  name: withManagedServiceIdentity(BuiltInRole role)
  nameWithType: VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role)
  fullName: WithCreate com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role)
  overload: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1521
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine. The MSI will have the given access role and scope of access will be limited to the resource group that this virtual machine belongs to.</p>

    <p></p>
  syntax:
    content: public WithCreate withManagedServiceIdentity(BuiltInRole role)
    parameters:
    - id: role
      type: com.microsoft.azure.management.graphrbac._built_in_role
      description: <p>access role to assigned to the virtual machine.</p>
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._definition_stages._with_create
      description: <p>the next stage of the definition </p>
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity(BuiltInRole,String)
  id: withManagedServiceIdentity(BuiltInRole,String)
  parent: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef
  href: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.yml
  langs:
  - java
  name: withManagedServiceIdentity(BuiltInRole role, String scope)
  nameWithType: VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope)
  fullName: WithCreate com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope)
  overload: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1532
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine.</p>

    <p></p>
  syntax:
    content: public WithCreate withManagedServiceIdentity(BuiltInRole role, String scope)
    parameters:
    - id: role
      type: com.microsoft.azure.management.graphrbac._built_in_role
      description: <p>access role to assigned to the virtual machine </p>
    - id: scope
      type: "26831127"
      description: <p>scope of the access represented in arm resource id format</p>
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._definition_stages._with_create
      description: <p>the next stage of the definition </p>
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity(BuiltInRole,String,int)
  id: withManagedServiceIdentity(BuiltInRole,String,int)
  parent: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef
  href: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.yml
  langs:
  - java
  name: withManagedServiceIdentity(BuiltInRole role, String scope, int port)
  nameWithType: VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope, int port)
  fullName: WithCreate com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope, int port)
  overload: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1544
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine.</p>

    <p></p>
  syntax:
    content: public WithCreate withManagedServiceIdentity(BuiltInRole role, String scope, int port)
    parameters:
    - id: role
      type: com.microsoft.azure.management.graphrbac._built_in_role
      description: <p>access role to assigned to the virtual machine. </p>
    - id: scope
      type: "26831127"
      description: <p>scope of the access represented in arm resource id format </p>
    - id: port
      type: f75371fa
      description: <p>access token retrieval port in the virtual machine</p>
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._definition_stages._with_create
      description: <p>the next stage of the definition </p>
references:
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_s6a28880883457a93afa88893abf976ef.withManagedServiceIdentity*
  name: withManagedServiceIdentity
  nameWithType: VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity
  fullName: WithCreate com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithManagedServiceIdentity.withManagedServiceIdentity
  package: com.microsoft.azure.management.compute
- uid: "26831127"
  spec.java:
  - name: String
    fullName: String
- uid: f75371fa
  spec.java:
  - name: int
    fullName: int
- uid: com.microsoft.azure.management.compute._virtual_machine._definition_stages._with_create
  parent: com.microsoft.azure.management.compute
  href: com.microsoft.azure.management.compute._virtual_machine._definition_stages._with_create.yml
  name: VirtualMachine.DefinitionStages.WithCreate
  nameWithType: VirtualMachine.DefinitionStages.WithCreate
  fullName: com.microsoft.azure.management.compute.VirtualMachine.DefinitionStages.WithCreate
  type: Interface
  summary: <p>The stage of the definition which contains all the minimum required inputs for the resource to be created, but also allows for any other optional settings to be specified. </p>
  syntax:
    content: public interface WithCreate extends Creatable<VirtualMachine>,Resource.DefinitionWithTags<WithCreate>,VirtualMachine.DefinitionStages.WithOSDiskSettings,VirtualMachine.DefinitionStages.WithVMSize,VirtualMachine.DefinitionStages.WithStorageAccount,VirtualMachine.DefinitionStages.WithAvailabilitySet,VirtualMachine.DefinitionStages.WithSecondaryNetworkInterface,VirtualMachine.DefinitionStages.WithExtension,VirtualMachine.DefinitionStages.WithPlan,VirtualMachine.DefinitionStages.WithBootDiagnostics,VirtualMachine.DefinitionStages.WithManagedServiceIdentity
- uid: com.microsoft.azure.management.graphrbac._built_in_role
  parent: com.microsoft.azure.management.graphrbac
  href: com.microsoft.azure.management.graphrbac._built_in_role.yml
  name: BuiltInRole
  nameWithType: BuiltInRole
  fullName: com.microsoft.azure.management.graphrbac.BuiltInRole
  type: Class
  summary: <p>Defines values for roles. </p>
  syntax:
    content: public class BuiltInRole extends ExpandableStringEnum<BuiltInRole>
