### YamlMime:ManagedReference
items:
- uid: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3
  id: _update_stage14a47182e7275baf2e2011b7b829c0f3
  parent: com.microsoft.azure.management.compute
  children:
  - com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity()
  - com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity(BuiltInRole)
  - com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity(BuiltInRole,String)
  - com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity(BuiltInRole,String,int)
  href: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.yml
  langs:
  - java
  name: VirtualMachine.UpdateStages.WithManagedServiceIdentity
  nameWithType: VirtualMachine.UpdateStages.WithManagedServiceIdentity
  fullName: com.microsoft.azure.management.compute.VirtualMachine.UpdateStages.WithManagedServiceIdentity
  type: Interface
  source:
    remote: &o0
      path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
      branch: master
      repo: https://github.com/Azure/azure-sdk-for-java
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1930
  package: com.microsoft.azure.management.compute
  summary: <p>The stage of the virtual machine update allowing to enable Managed Service Identity. </p>
  syntax:
    content: public interface WithManagedServiceIdentity
- uid: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity()
  id: withManagedServiceIdentity()
  parent: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3
  href: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.yml
  langs:
  - java
  name: withManagedServiceIdentity()
  nameWithType: VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity()
  fullName: Update com.microsoft.azure.management.compute.VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity()
  overload: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1939
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine. The MSI will have "Contributor" access role with scope of access limited to the resource group that this virtual machine belongs to.</p>

    <p></p>
  syntax:
    content: public Update withManagedServiceIdentity()
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._update
      description: <p>the next stage of the update </p>
- uid: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity(BuiltInRole)
  id: withManagedServiceIdentity(BuiltInRole)
  parent: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3
  href: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.yml
  langs:
  - java
  name: withManagedServiceIdentity(BuiltInRole role)
  nameWithType: VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role)
  fullName: Update com.microsoft.azure.management.compute.VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role)
  overload: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1951
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine. The MSI will have the given access role and scope of access will be limited to the resource group that this virtual machine belongs to.</p>

    <p></p>
  syntax:
    content: public Update withManagedServiceIdentity(BuiltInRole role)
    parameters:
    - id: role
      type: com.microsoft.azure.management.graphrbac._built_in_role
      description: <p>access role to assigned to the virtual machine.</p>
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._update
      description: <p>the next stage of the update </p>
- uid: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity(BuiltInRole,String)
  id: withManagedServiceIdentity(BuiltInRole,String)
  parent: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3
  href: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.yml
  langs:
  - java
  name: withManagedServiceIdentity(BuiltInRole role, String scope)
  nameWithType: VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope)
  fullName: Update com.microsoft.azure.management.compute.VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope)
  overload: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1962
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine.</p>

    <p></p>
  syntax:
    content: public Update withManagedServiceIdentity(BuiltInRole role, String scope)
    parameters:
    - id: role
      type: com.microsoft.azure.management.graphrbac._built_in_role
      description: <p>access role to assigned to the virtual machine </p>
    - id: scope
      type: "26831127"
      description: <p>scope of the access represented in arm resource id format</p>
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._update
      description: <p>the next stage of the update </p>
- uid: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity(BuiltInRole,String,int)
  id: withManagedServiceIdentity(BuiltInRole,String,int)
  parent: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3
  href: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.yml
  langs:
  - java
  name: withManagedServiceIdentity(BuiltInRole role, String scope, int port)
  nameWithType: VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope, int port)
  fullName: Update com.microsoft.azure.management.compute.VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity(BuiltInRole role, String scope, int port)
  overload: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity*
  type: Method
  source:
    remote: *o0
    path: azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachine.java
    startLine: 1974
  package: com.microsoft.azure.management.compute
  summary: >-
    <p>Specifies that Managed Service Identity needs to be enabled in the virtual machine.</p>

    <p></p>
  syntax:
    content: public Update withManagedServiceIdentity(BuiltInRole role, String scope, int port)
    parameters:
    - id: role
      type: com.microsoft.azure.management.graphrbac._built_in_role
      description: <p>access role to assigned to the virtual machine. </p>
    - id: scope
      type: "26831127"
      description: <p>scope of the access represented in arm resource id format </p>
    - id: port
      type: f75371fa
      description: <p>access token retrieval port in the virtual machine</p>
    return:
      type: com.microsoft.azure.management.compute._virtual_machine._update
      description: <p>the next stage of the update </p>
references:
- uid: com.microsoft.azure.management.compute._virtual_machine._update_stage14a47182e7275baf2e2011b7b829c0f3.withManagedServiceIdentity*
  name: withManagedServiceIdentity
  nameWithType: VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity
  fullName: Update com.microsoft.azure.management.compute.VirtualMachine.UpdateStages.WithManagedServiceIdentity.withManagedServiceIdentity
  package: com.microsoft.azure.management.compute
- uid: "26831127"
  spec.java:
  - name: String
    fullName: String
- uid: f75371fa
  spec.java:
  - name: int
    fullName: int
- uid: com.microsoft.azure.management.compute._virtual_machine._update
  parent: com.microsoft.azure.management.compute
  href: com.microsoft.azure.management.compute._virtual_machine._update.yml
  name: VirtualMachine.Update
  nameWithType: VirtualMachine.Update
  fullName: com.microsoft.azure.management.compute.VirtualMachine.Update
  type: Interface
  summary: <p>The template for an update operation, containing all the settings that can be modified. </p>
  syntax:
    content: public interface Update extends Appliable<VirtualMachine>,Resource.UpdateWithTags<Update>,VirtualMachine.UpdateStages.WithUnmanagedDataDisk,VirtualMachine.UpdateStages.WithManagedDataDisk,VirtualMachine.UpdateStages.WithSecondaryNetworkInterface,VirtualMachine.UpdateStages.WithExtension,VirtualMachine.UpdateStages.WithBootDiagnostics,VirtualMachine.UpdateStages.WithManagedServiceIdentity
- uid: com.microsoft.azure.management.graphrbac._built_in_role
  parent: com.microsoft.azure.management.graphrbac
  href: com.microsoft.azure.management.graphrbac._built_in_role.yml
  name: BuiltInRole
  nameWithType: BuiltInRole
  fullName: com.microsoft.azure.management.graphrbac.BuiltInRole
  type: Class
  summary: <p>Defines values for roles. </p>
  syntax:
    content: public class BuiltInRole extends ExpandableStringEnum<BuiltInRole>
